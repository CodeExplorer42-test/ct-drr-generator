[2025-05-27 01:27:33] ================================================================================
[2025-05-27 01:27:33] V13 True Stereo Geometry DRR Generator
[2025-05-27 01:27:33] ================================================================================
[2025-05-27 01:27:33] Research-based implementation:
[2025-05-27 01:27:33]   • True dual X-ray sources (not volume rotation)
[2025-05-27 01:27:33]   • Convergent ray geometry
[2025-05-27 01:27:33]   • 0.75mm ray step size
[2025-05-27 01:27:33]   • Correct HU to attenuation conversion
[2025-05-27 01:27:33] ================================================================================
[2025-05-27 01:27:34] Loading 134 DICOM files...
[2025-05-27 01:27:34] 
--- V13 True Stereo Geometry Generation ---
[2025-05-27 01:27:34] Implementing research-based true dual-source stereo
[2025-05-27 01:27:34] Volume center: [   0.48828125 -210.51171875 -480.5       ]
[2025-05-27 01:27:34] Stereo angle: 5.0°
[2025-05-27 01:27:34] Baseline: 104.7mm
[2025-05-27 01:27:34] Ray step size: 0.75mm
[2025-05-27 01:27:34] 
Generating LEFT projection...
[2025-05-27 01:27:34] Source position: [  -51.85498359 -1410.51171875  -480.5       ]
[2025-05-27 01:27:34] Attenuation range: [0.00000, 0.15000] mm^-1
[2025-05-27 01:27:36] Detector center: [   0.48828125  389.48828125 -480.5       ]
[2025-05-27 01:27:36] Casting 615168 rays...
[2025-05-27 01:27:36]   Progress: 0.0%
[2025-05-27 01:27:50]   Progress: 5.8%
[2025-05-27 01:28:05]   Progress: 11.6%
[2025-05-27 01:28:21]   Progress: 17.4%
[2025-05-27 01:28:35]   Progress: 23.1%
[2025-05-27 01:28:51]   Progress: 28.9%
[2025-05-27 01:29:06]   Progress: 34.7%
[2025-05-27 01:29:21]   Progress: 40.5%
[2025-05-27 01:29:55] ================================================================================
[2025-05-27 01:29:55] V13 True Stereo Geometry DRR Generator
[2025-05-27 01:29:55] ================================================================================
[2025-05-27 01:29:55] Research-based implementation:
[2025-05-27 01:29:55]   • True dual X-ray sources (not volume rotation)
[2025-05-27 01:29:55]   • Convergent ray geometry
[2025-05-27 01:29:55]   • 0.75mm ray step size
[2025-05-27 01:29:55]   • Correct HU to attenuation conversion
[2025-05-27 01:29:55] ================================================================================
[2025-05-27 01:29:55] Loading 134 DICOM files...
[2025-05-27 01:29:55] 
--- V13 True Stereo Geometry Generation ---
[2025-05-27 01:29:55] Implementing research-based true dual-source stereo
[2025-05-27 01:29:55] Volume center: [   0.48828125 -210.51171875 -480.5       ]
[2025-05-27 01:29:55] Stereo angle: 5.0°
[2025-05-27 01:29:55] Baseline: 104.7mm
[2025-05-27 01:29:55] Ray step size: 0.75mm
[2025-05-27 01:29:55] 
Generating LEFT projection...
[2025-05-27 01:29:55] Source position: [  -51.85498359 -1410.51171875  -480.5       ]
[2025-05-27 01:29:56] Attenuation range: [0.00000, 0.15000] mm^-1
[2025-05-27 01:29:57] Detector center: [   0.48828125  389.48828125 -480.5       ]
[2025-05-27 01:29:57] Casting 615168 rays...
[2025-05-27 01:29:57]   Progress: 0.0%
[2025-05-27 01:30:12]   Progress: 5.8%
[2025-05-27 01:30:26]   Progress: 11.6%
[2025-05-27 01:30:41]   Progress: 17.4%
[2025-05-27 01:30:56]   Progress: 23.1%
[2025-05-27 01:31:11]   Progress: 28.9%
[2025-05-27 01:31:26]   Progress: 34.7%
[2025-05-27 01:31:41]   Progress: 40.5%
[2025-05-27 01:31:56]   Progress: 46.3%
[2025-05-27 01:32:10]   Progress: 52.1%
[2025-05-27 01:32:25]   Progress: 57.9%
[2025-05-27 01:32:39]   Progress: 63.7%
[2025-05-27 01:32:53]   Progress: 69.4%
[2025-05-27 01:33:08]   Progress: 75.2%
[2025-05-27 01:33:22]   Progress: 81.0%
[2025-05-27 01:33:37]   Progress: 86.8%
[2025-05-27 01:33:52]   Progress: 92.6%
[2025-05-27 01:34:06]   Progress: 98.4%
[2025-05-27 01:34:10] Ray casting complete. Projection range: [0.001, 0.364]
[2025-05-27 01:34:10] 
Generating CENTER projection...
[2025-05-27 01:34:10] Source position: [ 4.88281250e-01 -1.41051172e+03 -4.80500000e+02]
[2025-05-27 01:34:11] Attenuation range: [0.00000, 0.15000] mm^-1
[2025-05-27 01:34:12] Detector center: [   0.48828125  389.48828125 -480.5       ]
[2025-05-27 01:34:12] Casting 615168 rays...
[2025-05-27 01:34:12]   Progress: 0.0%
[2025-05-27 01:34:26]   Progress: 5.8%
[2025-05-27 01:34:41]   Progress: 11.6%
[2025-05-27 01:34:56]   Progress: 17.4%
[2025-05-27 01:35:11]   Progress: 23.1%
[2025-05-27 01:35:26]   Progress: 28.9%
[2025-05-27 01:35:41]   Progress: 34.7%
[2025-05-27 01:35:57]   Progress: 40.5%
[2025-05-27 01:36:12]   Progress: 46.3%
[2025-05-27 01:36:27]   Progress: 52.1%
[2025-05-27 01:36:41]   Progress: 57.9%
[2025-05-27 01:36:56]   Progress: 63.7%
[2025-05-27 01:37:11]   Progress: 69.4%
[2025-05-27 01:37:26]   Progress: 75.2%
[2025-05-27 01:37:41]   Progress: 81.0%
[2025-05-27 01:37:56]   Progress: 86.8%
[2025-05-27 01:38:11]   Progress: 92.6%
[2025-05-27 01:38:26]   Progress: 98.4%
[2025-05-27 01:38:31] Ray casting complete. Projection range: [0.001, 0.368]
[2025-05-27 01:38:31] 
Generating RIGHT projection...
[2025-05-27 01:38:31] Source position: [   52.83154609 -1410.51171875  -480.5       ]
[2025-05-27 01:38:32] Attenuation range: [0.00000, 0.15000] mm^-1
[2025-05-27 01:38:33] Detector center: [   0.48828125  389.48828125 -480.5       ]
[2025-05-27 01:38:33] Casting 615168 rays...
[2025-05-27 01:38:33]   Progress: 0.0%
[2025-05-27 01:38:48]   Progress: 5.8%
[2025-05-27 01:39:03]   Progress: 11.6%
[2025-05-27 01:39:18]   Progress: 17.4%
[2025-05-27 01:39:32]   Progress: 23.1%
[2025-05-27 01:39:47]   Progress: 28.9%
[2025-05-27 01:40:01]   Progress: 34.7%
[2025-05-27 01:40:16]   Progress: 40.5%
[2025-05-27 01:40:32]   Progress: 46.3%
[2025-05-27 01:40:47]   Progress: 52.1%
[2025-05-27 01:41:01]   Progress: 57.9%
[2025-05-27 01:41:17]   Progress: 63.7%
[2025-05-27 01:41:32]   Progress: 69.4%
[2025-05-27 01:41:48]   Progress: 75.2%
[2025-05-27 01:42:03]   Progress: 81.0%
[2025-05-27 01:42:18]   Progress: 86.8%
[2025-05-27 01:42:33]   Progress: 92.6%
[2025-05-27 01:42:47]   Progress: 98.4%
[2025-05-27 01:42:52] Ray casting complete. Projection range: [0.001, 0.373]
[2025-05-27 01:42:52] 
Stereo difference (L-R): 0.2123
[2025-05-27 01:42:52] 
Estimating depth from stereo...
[2025-05-27 01:42:56] Depth coverage: 85.8%
[2025-05-27 01:43:00] Saved outputs to outputs/stereo_v13_true_geometry
[2025-05-27 01:43:00] 
================================================================================
[2025-05-27 01:43:00] V13 COMPLETE - True Stereo Geometry
[2025-05-27 01:43:00] Time: 784.7 seconds
[2025-05-27 01:43:00] This is true dual-source stereo, not volume rotation
[2025-05-27 01:43:00] ================================================================================
